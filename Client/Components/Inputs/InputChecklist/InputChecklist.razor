@namespace FileFlows.Client.Components.Inputs
@inherits Input<List<object>>

<InputWrapper Input="@this">
    <div class="input-checklist-wrapper @(ListOnly ? "list-only" :"")">
        <ul>
        @foreach (var opt in Options ?? new List<FileFlows.Plugin.ListOption>())
        {
            <li>
                <label readonly="@(ReadOnly ? "readonly" : null)">
                    @if(ListOnly == false)
                    {
                        <span>
                            @if (ReadOnly)
                            {
                                <input type="checkbox" readonly checked=@(Value.Contains(opt.Value) ? "checked" : null) disabled />
                            }else
                            {
                                <input type="checkbox" checked=@(Value.Contains(opt.Value) ? "checked" : null) @onchange="(e) => OnChange(e, opt)" @onclick:stopPropagation />                
                            }
                        </span>
                    }
                    <span>@opt.Label</span>
                </label>
            </li>
        }
        </ul>
    </div>
</InputWrapper>
