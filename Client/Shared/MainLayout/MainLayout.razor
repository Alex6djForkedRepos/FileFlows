@inherits LayoutComponentBase

@namespace FileFlows.Client.Shared

<div class="page @(App.Instance.NavMenuCollapsed ? "collapsed": "")">
    <div class="sidebar @(App.Instance.NavMenuCollapsed ? "collapsed": "")">
        <NavMenu @ref="Menu" />
        
        <span class="expand-collapse" @onclick=@ToggleExpand>
            @if (App.Instance.NavMenuCollapsed)
            {
                <i class="fas fa-angle-right"></i>
            }
            else
            {
                <i class="fas fa-angle-left"></i>
            }
        </span>
    </div>

    <div class="main">
        @if (Blocker != null && Menu != null && Editor != null)
        {
            <CascadingValue Value="Menu" IsFixed="true">
                <CascadingValue Value="Blocker" IsFixed="true">
                    <CascadingValue Value="Editor" IsFixed="true">
                        @Body
                    </CascadingValue>
                </CascadingValue>
            </CascadingValue>
        }

        <Blocker @ref="Blocker"></Blocker>
    </div>
</div>


<Editor @ref="Editor"></Editor>

<FileFlows.Client.Components.Dialogs.Confirm />
<FileFlows.Client.Components.Dialogs.Prompt />
<FileFlows.Client.Components.Dialogs.PausePrompt />
<FileFlows.Client.Components.Dialogs.FileBrowser />
<FileFlows.Client.Components.Dialogs.ImportDialog />
<FileFlows.Client.Components.Toast />

<VersionUpdateChecker />