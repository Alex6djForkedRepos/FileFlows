@namespace FileFlows.Client.Shared

<PageTitle>FileFlows - @Active.Title</PageTitle>

<div class="top-row navbar navbar-dark">
    <a class="navbar-brand" target="_blank" href="https://fileflows.com/" rel="noreferrer">
        <svg fill="var(--accent)" width="2rem" height="2rem" version="1.1" id="lni_lni-skipping-rope"
             xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
             viewBox="0 0 64 64" style="enable-background:new 0 0 64 64;" xml:space="preserve">
            <path d="M55.4,43.4h-7.2c-3.3,0-6.2,2.2-7.1,5.3H18.9c-4.1,0-7.5-3.4-7.5-7.5s3.4-7.5,7.5-7.5h26.2c6.1,0,11-4.9,11-11
	c0-6.1-4.9-11-11-11H23.2v-0.5c0-4.1-3.3-7.4-7.4-7.4H8.6c-4.1,0-7.4,3.3-7.4,7.4v1.9c0,4.1,3.3,7.4,7.4,7.4h7.2
	c3.3,0,6.2-2.2,7.1-5.3h22.2c4.1,0,7.5,3.4,7.5,7.5s-3.4,7.5-7.5,7.5H18.9c-6.1,0-11,4.9-11,11s4.9,11,11,11h21.9v0.5
	c0,4.1,3.3,7.4,7.4,7.4h7.2c4.1,0,7.4-3.3,7.4-7.4v-1.9C62.8,46.7,59.4,43.4,55.4,43.4z M19.7,13.2c0,2.1-1.7,3.9-3.9,3.9H8.6
	c-2.1,0-3.9-1.7-3.9-3.9v-1.9c0-2.1,1.7-3.9,3.9-3.9h7.2c2.1,0,3.9,1.7,3.9,3.9V13.2z M59.3,52.7c0,2.1-1.7,3.9-3.9,3.9h-7.2
	c-2.1,0-3.9-1.7-3.9-3.9v-1.9c0-2.1,1.7-3.9,3.9-3.9h7.2c2.1,0,3.9,1.7,3.9,3.9V52.7z" />
        </svg>
        <span class="text-label">FileFlows</span>
    </a>
    <span class="page-title">
        <span class="icon @Active?.Icon"></span>
        @Active.Title
    </span>
    <button class="navbar-toggler" @onclick="ToggleNavMenu">
        <span class="fas fa-bars"></span>
    </button>
</div>

<div class="nav-menu-container @NavMenuCssClass" @onclick="ToggleNavMenu">
    <ul class="nav flex-column">
        @foreach (var group  in MenuItems)
        {
            <li class="nav-menu-group">
                @if(string.IsNullOrEmpty(group.Icon) == false)
                {
                    <span class="icon @group.Icon" aria-hidden="true"></span>
                }
                <span class="text-label">@group.Name</span>
            </li>
            @foreach (var item in group.Items)
            {
                if (item == null)
                {
                    continue;
                }
                <li class="nav-item @(item.Url.Replace("/", ""))">
                    <a class="nav-link @(Active == item  ? "active": "")" href="@item.Url" @onclick:preventDefault @onclick:stopPropagation
                                                                                           @onclick="() => Click(item)">
                        <span class="@item.Icon" aria-hidden="true"></span>
                        <span class="text-label">@item.Title</span>
                    </a>
                    @{
                        string stepLabel = GetStepLabel(item);
                        if (stepLabel != null)
                        {
                            <div class="not-configured-pointer">@stepLabel</div>
                        }
                    }
                </li>
            }
        }
        <li class="nav-item help">
            <a class="nav-link" href="https://docs.fileflows.com/" target="_blank" rel="noreferrer">
                <span class="far fa-question-circle" aria-hidden="true"></span> <span class="text-label">@lblHelp</span>
            </a>
        </li>
        <li class="nav-item forum">
            <a class="nav-link" href="https://forum.fileflows.com/" target="_blank" rel="noreferrer">
                <span class="fas fa-comments" aria-hidden="true"></span> <span class="text-label">@lblForum</span>
            </a>
        </li>
        <li class="nav-item discord">
            <a class="nav-link" href="https://fileflows.com/discord" target="_blank" rel="noreferrer">
                <span class="fab fa-discord" aria-hidden="true"></span> <span class="text-label">@lblDiscord</span>
            </a>
        </li>
    </ul>
    
    <div class="support-links">
        <a href="https://forum.fileflows.com" rel="noreferrer" target="_blank" title="@lblForum"><i class="fas fa-comments"></i></a>
        <a href="https://fileflows.com/discord" rel="noreferrer" target="_blank" title="@lblDiscord"><i class="fab fa-discord"></i></a>
    </div> 

    <div class="version-info">
        @lblVersion
    </div>
</div>