[
  {
    "name": "Convert to H264/AAC",
    "description": "Will convert videos to H264/AAC.   The original file will be replaced.\n\nIf the original file is already H264/AAC the file will not be re-encoded.",
    "group": "Video",
    "parts": [
      {
        "node": "VideoFile",
        "uid": "00000000-0000-0000-0000-000000000001",
        "xPos": 375,
        "yPos": 10,
        "connections": [
          {
            "input": 1,
            "output": 1,
            "node": "00000000-0000-0000-0000-000000000002"
          }
        ]
      },

      {
        "node": "Function",
        "name": "Check Black Bars?",
        "uid": "00000000-0000-0000-0000-000000000002",
        "xPos": 375,
        "yPos": 130,
        "outputs": 2,
        "connections": [
          {
            "input": 1,
            "output": 1,
            "node": "00000000-0000-0000-0000-000000000003"
          },
          {
            "input": 1,
            "output": 2,
            "node": "00000000-0000-0000-0000-000000000004"
          }
        ],
        "model": {
          "Outputs": 2
        }
      },


      {
        "node": "DetectBlackBars",
        "uid": "00000000-0000-0000-0000-000000000003",
        "xPos": 170,
        "yPos": 260,
        "connections": [
          {
            "output": 1,
            "input": 1,
            "node": "00000000-0000-0000-0000-000000000004"
          },
          {
            "output": 2,
            "input": 1,
            "node": "00000000-0000-0000-0000-000000000004"
          }
        ],
        "model": {
          "CroppingThreshold": 10
        }
      },

      {
        "node": "Function",
        "name": "Use NVIDIA",
        "uid": "00000000-0000-0000-0000-000000000004",
        "xPos": 575,
        "yPos": 400,
        "outputs": 2,
        "connections": [
          {
            "input": 1,
            "output": 1,
            "node": "00000000-0000-0000-0000-000000000005"
          },
          {
            "input": 1,
            "output": 2,
            "node": "00000000-0000-0000-0000-000000000006"
          }
        ],
        "model": {
          "Outputs": 2
        }
      },

      {
        "node": "VideoEncode",
        "name": "NVIDIA Encode",
        "uid": "00000000-0000-0000-0000-000000000005",
        "xPos": 320,
        "yPos": 550,
        "connections": [
          {
            "output": 1,
            "input": 1,
            "node": "00000000-0000-0000-0000-000000000007"
          }
        ],
        "model": {
          "AudioCodec": "aac",
          "VideoCodec": "h264",
          "VideoCodecParameters": "h264_nvenc",
          "Extension": "mkv"
        }
      },
      {
        "node": "VideoEncode",
        "name": "CPU Encode",
        "uid": "00000000-0000-0000-0000-000000000006",
        "xPos": 900,
        "yPos": 550,
        "connections": [
          {
            "output": 1,
            "input": 1,
            "node": "00000000-0000-0000-0000-000000000007"
          }
        ],
        "model": {
          "AudioCodec": "aac",
          "VideoCodec": "h264",
          "VideoCodecParameters": "libx264",
          "Extension": "mkv"
        }
      },

      {
        "node": "ReplaceOriginal",
        "uid": "00000000-0000-0000-0000-000000000007",
        "xPos": 570,
        "yPos": 700
      }
    ],


    "fields": [
      {
        "uid": "00000000-0000-0000-0000-000000000002",
        "type": "Switch",
        "name": "Code",
        "default": true,
        "label": "Crop Black Bars",
        "help": "Automatically crop black bars if detected",
        "value": {
          "true": "/* return 1 here to detect black bars */\nreturn 1;",
          "false": "/* return 2 here to skip detecting black bars */\nreturn 2;"
        }
      },
      {
        "uid": "00000000-0000-0000-0000-000000000004",
        "type": "Switch",
        "name": "Code",
        "default": true,
        "label": "NVIDIA Encoding",
        "help": "If NVIDIA hardware encoding should be used",
        "value": {
          "true": "/* return 1 here to use NVIDIA encoding */\nreturn 1;",
          "false": "/* return 2 here to use CPU encoding */\nreturn 2;"
        }
      }
    ]
  }


] 