[
  {
    "name": "Convert and Move (FFMPEG Builder)",
    "group": "Video",
    "order": 1,
    "description": "A FFMPEG Builder based flow that will convert and move a file",
    "save": true,
    "Parts": [
      {
        "Uid": "00000000-0000-0000-0000-000000000001",
        "Name": "Video File",
        "node": "VideoFile",
        "xPos": 100,
        "yPos": 90,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000002"
          }
        ],
        "Model": null
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000002",
        "Name": "FFMPEG Builder: Start",
        "node": "FfmpegBuilderStart",
        "xPos": 100,
        "yPos": 230,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000003"
          }
        ],
        "Model": {}
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000003",
        "Name": "FFMPEG Builder: Remux to MKV",
        "node": "FfmpegBuilderRemuxToMkv",
        "xPos": 100,
        "yPos": 380,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000004"
          }
        ],
        "Model": {}
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000004",
        "Name": "FFMPEG Builder: Video Encode",
        "node": "FfmpegBuilderVideoEncode",
        "xPos": 100,
        "yPos": 510,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000011"
          }
        ],
        "Model": {
          "Codec": "h265",
          "HardwareEncoding": true,
          "Quality": 23
        }
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000006",
        "Name": "Add Audio",
        "node": "FfmpegBuilderAudioAddTrack",
        "xPos": 750,
        "yPos": 260,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000007"
          }
        ],
        "model": {
          "Index": 0,
          "Codec": "ac3",
          "Channels": 0,
          "Bitrate": 0
        }
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000007",
        "Name": "FFMPEG Builder: Executor",
        "node": "FfmpegBuilderExecutor",
        "xPos": 750,
        "yPos": 450,
        "Outputs": 2,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000008"
          },
          {
            "Input": 1,
            "Output": 2,
            "node": "00000000-0000-0000-0000-000000000008"
          }
        ],
        "Model": {
          "HardwareDecoding": true
        }
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000008",
        "Name": "Move File",
        "node": "MoveFile",
        "xPos": 1070,
        "yPos": 300,
        "Outputs": 1,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000012"
          }
        ],
        "model": {
          "MoveFolder": true,
          "DeleteOriginal": true,
          "DestinationPath": "/media"
        }
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000009",
        "Name": "Delete Source Folder",
        "node": "DeleteSourceDirectory",
        "xPos": 890,
        "yPos": 710,
        "Outputs": 2,
        "connections": null,
        "Model": {
          "IfEmpty": true,
          "IncludePatterns": []
        }
      },
      {
        "Uid": "00000000-0000-0000-0000-000000000010",
        "Name": "",
        "node": "FfmpegBuilderCropBlackBars",
        "xPos": 400,
        "yPos": 300,
        "Outputs": 2,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000006"
          },
          {
            "Input": 1,
            "Output": 2,
            "node": "00000000-0000-0000-0000-000000000006"
          }
        ],
        "Model": {
          "CroppingThreshold": 10
        }
      },
      {
        "uid": "00000000-0000-0000-0000-000000000011",
        "name": "Crop Black Bars?",
        "node": "Function",
        "xPos": 440,
        "yPos": 90,
        "outputs": 2,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000010"
          },
          {
            "Input": 1,
            "Output": 2,
            "node": "00000000-0000-0000-0000-000000000006"
          }
        ],
        "model": {
          "Outputs": 2
        }
      },
      {
        "uid": "00000000-0000-0000-0000-000000000012",
        "node": "Function",
        "name": "Delete Dir?",
        "xPos": 1070,
        "yPos": 480,
        "outputs": 2,
        "connections": [
          {
            "Input": 1,
            "Output": 1,
            "node": "00000000-0000-0000-0000-000000000009"
          }
        ],
        "model": {
          "Outputs": 2
        }
      }
    ],


    "fields": [
      {
        "uid": "00000000-0000-0000-0000-000000000004",
        "type": "Select",
        "label": "Video Codec",
        "help": "The video codec to use for encoding",
        "parameters": {
          "options": [
            {
              "label": "H.264",
              "value": {
                "Codec": "h264",
                "HardwareEncoding": true,
                "Quality": 23
              }
            },
            {
              "label": "H.264 (10-Bit)",
              "value": {
                "Codec": "h264 10BIT",
                "HardwareEncoding": true,
                "Quality": 23
              }
            },
            {
              "label": "H.265",
              "value": {
                "Codec": "h265",
                "HardwareEncoding": true,
                "Quality": 28
              }
            },
            {
              "label": "H.265 (10-Bit)",
              "value": {
                "Codec": "h265 10BIT",
                "HardwareEncoding": true,
                "Quality": 28
              }
            }
          ]
        }
      },

      {
        "uid": "00000000-0000-0000-0000-000000000006",
        "type": "Select",
        "name": "Codec",
        "label": "Audio Codec",
        "help": "The audio codec to use for encoding",
        "parameters": {
          "options": [
            {
              "label": "AC3",
              "value": "ac3"
            },
            {
              "label": "AAC",
              "value": "aac"
            },
            {
              "label": "EAC3",
              "value": "eac3"
            }
          ]
        }
      },
      
      {
        "uid": "00000000-0000-0000-0000-000000000008",
        "type": "Directory",
        "required": true,
        "label": "Destination",
        "help": "The destination directory where the final file should be saved to",
        "name": "DestinationPath",
        "default": "/media"
      },

      {
        "uid": "00000000-0000-0000-0000-000000000012",
        "type": "Switch",
        "name": "Code",
        "default": true,
        "label": "Delete Source Directory",
        "help": "If the source directory should be deleted.  This will only be deleted if there are no other video files found in this directory",
        "value": {
          "true": "/* return 1 here to delete the source directory */\nreturn 1;",
          "false": "/* return 2 here to NOT delete the source directory */\nreturn 2;"
        }
      },

      {
        "uid": "00000000-0000-0000-0000-000000000011",
        "type": "Switch",
        "name": "Code",
        "default": false,
        "label": "Crop Black Bars",
        "help": "Automatically crop black bars if detected",
        "value": {
          "true": "/* return 1 here to detect black bars */\nreturn 1;",
          "false": "/* return 2 here to skip detecting black bars */\nreturn 2;"
        }
      }
    ]
  }
]